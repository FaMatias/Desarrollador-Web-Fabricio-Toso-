<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabricio Matías Toso | Desarrollador Web y Biotecnólogo</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font-Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            color: #c9d1d9;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f172a, #1e3a8a, #0f172a, #0d1117);
            background-size: 400% 400%;
            animation: gradient-animation 15s ease infinite;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .gradient-text {
            background-image: linear-gradient(45deg, #4299e1, #2b6cb0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .section-header {
            position: relative;
            padding-bottom: 0.5rem;
            margin-bottom: 2rem;
        }
        .section-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: #2b6cb0;
            border-radius: 9999px;
        }
        .message-box, .api-response-box {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
        .ai-btn {
            background-color: transparent;
            border: 2px solid #4299e1;
            color: #4299e1;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 600;
            margin-top: 1rem;
            display: inline-block;
            transition: all 0.3s ease-in-out;
            cursor: pointer;
        }
        .ai-btn:hover {
            background-color: #4299e1;
            color: #fff;
            transform: scale(1.05);
        }
        .api-response-box {
            background-color: #1a202c;
            color: #c9d1d9;
            padding: 1.5rem;
            border-radius: 1rem;
            max-width: 80%;
            max-height: 80%;
            overflow-y: auto;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        .section-divider {
            height: 4px;
            background: linear-gradient(90deg, #1f2937, #2b6cb0, #1f2937);
            width: 80%;
            margin: 4rem auto;
            border-radius: 9999px;
        }
        
        /* Estilos para la pantalla de introducción */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #0d1117;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 1s ease-out, visibility 1s ease-out;
            visibility: visible;
            opacity: 1;
        }
        #intro-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.7;
        }
        #name-display-container {
            z-index: 10;
            position: relative;
        }
        #name-display-text {
            font-size: 2rem;
            font-weight: 800;
            color: transparent; /* El texto real no se ve */
            text-align: center;
            white-space: pre; /* Mantiene los espacios para la medición */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none; /* Oculto, solo para medir su tamaño */
        }
        #main-content {
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease-out, visibility 1s ease-out;
        }
        #main-content.visible {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body>
    
    <!-- Pantalla de Introducción -->
    <div id="intro-screen">
        <canvas id="intro-canvas"></canvas>
        <!-- Canvas para el texto de introducción que se va a formar -->
        <canvas id="text-canvas" style="position: absolute;"></canvas>
    </div>

    <!-- Contenido Principal del Sitio Web (inicialmente oculto) -->
    <div id="main-content" class="max-w-7xl mx-auto">
        <!-- Barra de navegación -->
        <nav class="fixed top-4 left-4 right-4 z-50 bg-gray-900 bg-opacity-80 backdrop-blur-sm p-4 rounded-3xl shadow-lg flex items-center justify-between transition-all duration-300">
            <a href="#" class="flex items-center space-x-2 text-white font-bold text-xl md:text-2xl hover:text-blue-400 transition-colors">
                <i class="fas fa-code fa-lg text-blue-400"></i>
                <span>Fabricio Toso</span>
            </a>
            <div class="flex space-x-4 md:space-x-6">
                <a href="#inicio" class="text-white hover:text-blue-400 font-semibold transition-colors hidden md:block">Inicio</a>
                <a href="#filosofia" class="text-white hover:text-blue-400 font-semibold transition-colors hidden md:block">Mi Filosofía</a>
                <a href="#servicios" class="text-white hover:text-blue-400 font-semibold transition-colors hidden md:block">Servicios</a>
                <a href="#proyectos" class="text-white hover:text-blue-400 font-semibold transition-colors hidden md:block">Proyectos</a>
                <a href="#ia" class="text-white hover:text-blue-400 font-semibold transition-colors hidden md:block">Herramientas IA</a>
                <a href="#contacto" class="text-white hover:text-blue-400 font-semibold transition-colors hidden md:block">Contacto</a>
            </div>
            <a href="#contacto" class="md:hidden bg-blue-500 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 hover:bg-blue-600">
                Contacto
            </a>
        </nav>

        <!-- Sección de Inicio (Hero) -->
        <section id="inicio" class="relative overflow-hidden flex flex-col items-center justify-center min-h-[100vh] text-center p-6 rounded-3xl mt-20" id="hero-background">
            <div class="z-10">
                <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-4">
                    Hola, soy <span class="gradient-text">Fabricio Toso</span>
                </h1>
                <p class="text-lg md:text-2xl text-gray-400 mb-6 font-light">
                    <span id="typing-effect" class="font-bold"></span>
                </p>
                <p class="text-gray-400 max-w-2xl mb-8">
                    Combino mi pasión por el desarrollo web con un enfoque analítico y creativo para construir soluciones digitales que funcionan.
                </p>
                <a href="#contacto" class="bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 hover:bg-blue-600">
                    ¡Hablemos de tu proyecto!
                </a>
            </div>
        </section>
        <div class="section-divider"></div>

        <!-- Nueva Sección: Mi Filosofía de Trabajo -->
        <section id="filosofia" class="py-12 md:py-24 text-center">
            <h2 class="text-3xl md:text-4xl font-extrabold text-white section-header">Mi Filosofía de Trabajo</h2>
            <div class="max-w-4xl mx-auto mt-12 text-left">
                <p id="filosofia-text" class="text-lg text-gray-300 mb-4">
                    Me adapto a tus necesidades con una <strong>gran relación calidad precio</strong>, con tarifas de programador web para pequeños y medianos negocios. Desarrollo web desde cero o rediseño de tu página web con un diseño moderno y elegante.
                    Con un proyecto web robusto y de calidad, darás una nueva imagen a tu negocio, conseguirás un mayor volumen de negocio con información directa a tus clientes las 24h del día. Te oriento de principio a fin desde las necesidades técnicas hasta la contratación del hosting y dominio, para que tengas tu página web terminada y lista para funcionar «llave en mano».
                    <br><br>
                    <strong>¡Hazte visible en internet!</strong>
                    <br><br>
                    Principalmente realizo proyectos de <strong>Páginas Webs WordPress y Tiendas Online</strong>, seguidos muy de cerca de los servicios de <strong>mantenimiento web y gestión</strong>. También Maquetación de Newsletters HTML, para enviar por email o MailChimp, entre otros muchos proyectos.
                </p>
                <button id="read-aloud-btn" class="ai-btn"><i class="fas fa-volume-up mr-2"></i>✨ Leer en voz alta ✨</button>
                <audio id="audio-player" class="mt-4 w-full" controls style="display: none;"></audio>
            </div>
        </section>
        <div class="section-divider"></div>

        <!-- Sección de Servicios -->
        <section id="servicios" class="py-12 md:py-24 text-center">
            <h2 class="text-3xl md:text-4xl font-extrabold text-white section-header">Mis Servicios</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                <div class="bg-gray-800 p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-2">
                    <i class="fas fa-desktop fa-3x gradient-text mb-4"></i>
                    <h3 class="text-2xl font-bold text-gray-200 mb-2">Desarrollo Web</h3>
                    <p class="text-gray-400">Creación de sitios web a medida, desde landing pages hasta plataformas complejas. Diseño moderno y responsivo garantizado.</p>
                </div>
                <div class="bg-gray-800 p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-2">
                    <i class="fab fa-wordpress fa-3x gradient-text mb-4"></i>
                    <h3 class="text-2xl font-bold text-gray-200 mb-2">Especialista en WordPress</h3>
                    <p class="text-gray-400">Desarrollo y personalización de temas y plugins. Optimización y mantenimiento para un rendimiento óptimo.</p>
                </div>
                <div class="bg-gray-800 p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-2">
                    <i class="fas fa-mobile-alt fa-3x gradient-text mb-4"></i>
                    <h3 class="text-2xl font-bold text-gray-200 mb-2">Aplicaciones Digitales</h3>
                    <p class="text-gray-400">Diseño y construcción de aplicaciones interactivas que resuelven problemas reales y mejoran la experiencia del usuario.</p>
                </div>
            </div>
        </section>
        <div class="section-divider"></div>

        <!-- Sección de Proyectos -->
        <section id="proyectos" class="py-12 md:py-24 text-center">
            <h2 class="text-3xl md:text-4xl font-extrabold text-white section-header">Mis Proyectos</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12">
                <a href="https://github.com/FaMatias/Sistema_inventarios" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Sistema de Inventarios</h3>
                    <p class="text-gray-400 mb-4">Un sistema de gestión de inventarios hecho a medida para un cliente.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
                <a href="https://github.com/FaMatias/Vinos_Argentina" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Vinos Argentina</h3>
                    <p class="text-gray-400 mb-4">Una aplicación web para explorar y gestionar datos sobre vinos argentinos.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
                <a href="https://github.com/FaMatias/Stock-de-Vinos-Ex-ticos" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Stock de Vinos Exóticos</h3>
                    <p class="text-gray-400 mb-4">Plataforma de gestión de stock para una colección de vinos especializados.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
                
                <a href="https://famatias.github.io/Simple-Links/index.html" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Simple-Links</h3>
                    <p class="text-gray-400 mb-4">Una página de enlaces personalizada para perfiles sociales.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
                <a href="https://famatias.github.io/Simple-Links/practicas.html" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Pizarra Colaborativa</h3>
                    <p class="text-gray-400 mb-4">Aplicación de pizarra en tiempo real para trabajo en equipo.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
                <a href="https://famatias.github.io/Simple-Links/practicas.html" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Tablero Kanban</h3>
                    <p class="text-gray-400 mb-4">Herramienta para organizar tareas en un tablero visual.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
                <a href="https://famatias.github.io/Simple-Links/practicas.html" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Generador de Contraseñas</h3>
                    <p class="text-gray-400 mb-4">Crea contraseñas seguras y aleatorias con un clic.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
                <a href="https://famatias.github.io/Simple-Links/utiles.html" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Calculadora de Edad</h3>
                    <p class="text-gray-400 mb-4">Calcula la edad de una persona a partir de su fecha de nacimiento.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
                <a href="https://famatias.github.io/Simple-Links/utiles.html" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Juego del Ahorcado</h3>
                    <p class="text-gray-400 mb-4">Clásico juego del ahorcado para pasar el rato.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Juego</span>
                </a>
                <a href="https://famatias.github.io/Simple-Links/utiles.html" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Piedra, Papel o Tijera</h3>
                    <p class="text-gray-400 mb-4">El clásico juego de mano contra la computadora.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Juego</span>
                </a>
                <a href="https://famatias.github.io/Simple-Links/utiles.html" target="_blank" class="block bg-gray-800 p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-1">
                    <h3 class="text-xl font-bold text-white mb-1">Tablas de Multiplicar</h3>
                    <p class="text-gray-400 mb-4">Una aplicación simple para practicar las tablas de multiplicar.</p>
                    <span class="inline-block bg-blue-500 text-white text-xs font-semibold px-3 py-1 rounded-full">Web App</span>
                </a>
            </div>
        </section>
        <div class="section-divider"></div>

        <!-- Sección de Herramientas de IA -->
        <section id="ia" class="py-12 md:py-24 text-center">
            <h2 class="text-3xl md:text-4xl font-extrabold text-white section-header">Integra IA en tu Proyecto</h2>
            <p class="text-gray-400 max-w-2xl mx-auto mb-8">
                Demuestra el poder de la inteligencia artificial. Mis proyectos pueden incluir funciones como estas para generar valor, optimizar tareas o crear contenido único.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <!-- Herramienta 1: Generador de Imágenes -->
                <div class="p-8 bg-gray-800 rounded-3xl shadow-xl">
                    <h3 class="text-2xl font-bold text-gray-200 mb-4">Generador de Imágenes</h3>
                    <p class="text-gray-400 mb-4">
                        Describe la imagen que quieres crear. ¡Ideal para tener ideas para un logo, banner o imagen de producto!
                    </p>
                    <input type="text" id="image-prompt" placeholder="Ej. un robot cocinando pizza en un restaurante elegante" required class="w-full p-4 rounded-xl border-2 border-gray-700 bg-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-sm text-gray-50 placeholder-gray-500 mb-4">
                    <button type="button" id="generate-image-btn" class="ai-btn w-full">
                        <i class="fas fa-image mr-2"></i>Generar Imagen
                    </button>
                    <div id="image-container" class="mt-8 flex justify-center items-center h-64 bg-gray-900 rounded-xl">
                        <img id="generated-image" class="max-h-full max-w-full rounded-xl object-contain hidden" alt="Imagen generada por IA">
                        <div id="image-loader" class="text-gray-400 hidden"><i class="fas fa-sync fa-spin fa-2x"></i></div>
                        <p id="image-placeholder" class="text-gray-500">La imagen generada aparecerá aquí.</p>
                    </div>
                </div>

                <!-- Herramienta 2: Generador de Descripciones para E-commerce -->
                <div class="p-8 bg-gray-800 rounded-3xl shadow-xl">
                    <h3 class="text-2xl font-bold text-gray-200 mb-4">Generador de Descripciones</h3>
                    <p class="text-gray-400 mb-4">
                        Escribe el nombre de tu producto y sus características. La IA creará una descripción optimizada para ventas.
                    </p>
                    <input type="text" id="product-name" placeholder="Nombre del Producto (ej. Auriculares inalámbricos Z1)" required class="w-full p-4 rounded-xl border-2 border-gray-700 bg-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-sm text-gray-50 placeholder-gray-500 mb-2">
                    <textarea id="product-features" rows="4" placeholder="Características (ej. Cancelación de ruido, batería de 20h, Bluetooth 5.2)" required class="w-full p-4 rounded-xl border-2 border-gray-700 bg-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-sm text-gray-50 placeholder-gray-500"></textarea>
                    <button type="button" id="generate-description-btn" class="ai-btn w-full">
                        <i class="fas fa-file-alt mr-2"></i>Generar Descripción
                    </button>
                    <div id="description-container" class="mt-8 p-4 bg-gray-900 rounded-xl h-64 overflow-y-auto">
                        <p id="description-result" class="text-gray-400">La descripción del producto aparecerá aquí.</p>
                        <div id="description-loader" class="text-gray-400 hidden text-center"><i class="fas fa-sync fa-spin fa-2x"></i></div>
                    </div>
                </div>
            </div>
        </section>
        <div class="section-divider"></div>

        <!-- Sección de Contacto con formulario -->
        <section id="contacto" class="py-12 md:py-24 text-center">
            <h2 class="text-3xl md:text-4xl font-extrabold text-white section-header">Pide tu Presupuesto</h2>
            <p class="text-gray-400 max-w-2xl mx-auto mb-8">
                ¿Tienes una idea o necesitas ayuda con tu proyecto digital? No dudes en contactarme. Estoy listo para ayudarte a crear algo increíble.
            </p>
            <div class="max-w-xl mx-auto p-8 bg-gray-800 rounded-3xl shadow-xl">
                <form id="contact-form" class="space-y-6">
                    <div>
                        <input type="text" id="nombre" name="nombre" placeholder="Tu Nombre" required class="w-full p-4 rounded-xl border-2 border-gray-700 bg-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-sm text-gray-50 placeholder-gray-500">
                    </div>
                    <div>
                        <input type="email" id="email" name="email" placeholder="Tu Email" required class="w-full p-4 rounded-xl border-2 border-gray-700 bg-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-sm text-gray-50 placeholder-gray-500">
                    </div>
                    <div>
                        <textarea id="mensaje" name="mensaje" rows="4" placeholder="Describe tu proyecto" required class="w-full p-4 rounded-xl border-2 border-gray-700 bg-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-sm text-gray-50 placeholder-gray-500"></textarea>
                    </div>
                    <button type="button" id="analyze-project-btn" class="w-full bg-blue-500 text-white font-bold py-4 px-8 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 hover:bg-blue-600">
                        <i class="fas fa-magic mr-2"></i>✨ Analizar Proyecto ✨
                    </button>
                    <button type="submit" class="w-full bg-blue-700 text-white font-bold py-4 px-8 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 hover:bg-blue-800 mt-2">
                        Enviar Presupuesto
                    </button>
                </form>
                <div class="flex items-center justify-center space-x-6 mt-8">
                    <a href="https://www.linkedin.com/in/fabricio-matias-toso/" target="_blank" class="text-gray-400 hover:text-blue-400 transition-colors">
                        <i class="fab fa-linkedin fa-2x"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-blue-400 transition-colors">
                        <i class="fab fa-github fa-2x"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-blue-400 transition-colors">
                        <i class="fab fa-twitter fa-2x"></i>
                    </a>
                    <a href="https://www.instagram.com/fa.matias/" target="_blank" class="text-gray-400 hover:text-blue-400 transition-colors">
                        <i class="fab fa-instagram fa-2x"></i>
                    </a>
                </div>
            </div>
        </section>

        <!-- Pie de página -->
        <footer class="text-center text-gray-500 mt-16 py-4 border-t border-gray-700">
            <p>&copy; 2024 Fabricio Matías Toso. Todos los derechos reservados.</p>
        </footer>
    </div>

    <!-- Message Box for success/error messages -->
    <div id="messageBox" class="message-box bg-emerald-500 text-white p-4 rounded-xl shadow-lg">
        <p id="messageText"></p>
    </div>

    <!-- Modal para la respuesta del analizador de proyectos -->
    <div id="apiResponseModal" class="api-response-box p-6 rounded-xl shadow-lg">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-2xl font-bold text-white">Análisis de Proyecto</h3>
            <button id="closeModalBtn" class="text-gray-400 hover:text-white transition-colors">&times;</button>
        </div>
        <div id="apiResponseContent" class="prose text-gray-300 max-h-[calc(100vh-200px)] overflow-y-auto">
            <!-- El contenido generado por la IA se inyectará aquí -->
        </div>
    </div>

    <!-- Script principal para las animaciones y APIs -->
    <script>
        window.onload = function() {
            const introScreen = document.getElementById('intro-screen');
            const mainContent = document.getElementById('main-content');
            const mainCanvas = document.getElementById('intro-canvas');
            const textCanvas = document.getElementById('text-canvas');
            
            const mainCtx = mainCanvas.getContext('2d');
            const textCtx = textCanvas.getContext('2d', { willReadFrequently: true });
            
            const nameToForm = "FABRICIO MATIAS TOSO";
            
            let nameFormed = false;
            let currentNameLength = 0;
            const nameTypingSpeed = 70;
            let nameFormedTimeout = null;

            // Lógica para el efecto de lluvia de código
            const characters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
            const fontSize = 16;
            let columns, drops, textData;

            function setupCanvases() {
                mainCanvas.width = window.innerWidth;
                mainCanvas.height = window.innerHeight;
                textCanvas.width = window.innerWidth;
                textCanvas.height = window.innerHeight;
                columns = Math.floor(mainCanvas.width / fontSize);
                drops = [];
                for (let i = 0; i < columns; i++) {
                    drops[i] = 1;
                }
            }

            function drawName() {
                // Fix: Check if canvas has valid dimensions before drawing
                if (textCanvas.width === 0 || textCanvas.height === 0) {
                    console.warn("Text canvas has zero dimensions. Skipping drawName().");
                    return;
                }
                textCtx.clearRect(0, 0, textCanvas.width, textCanvas.height);
                textCtx.fillStyle = 'white';
                textCtx.textAlign = 'center';
                const dynamicFontSize = Math.min(64, mainCanvas.width / 10);
                textCtx.font = `${dynamicFontSize}px 'Inter', sans-serif`;
                
                // Dibuja el nombre con el número de letras que ya se han "formado"
                const nameSubset = nameToForm.substring(0, currentNameLength);
                textCtx.fillText(nameSubset, textCanvas.width / 2, textCanvas.height / 2);
                
                // Fix: Only get image data if the canvas is valid
                if (textCanvas.width > 0 && textCanvas.height > 0) {
                    textData = textCtx.getImageData(0, 0, textCanvas.width, textCanvas.height);
                }

                if (currentNameLength < nameToForm.length) {
                    currentNameLength++;
                    setTimeout(drawName, nameTypingSpeed);
                } else {
                    nameFormed = true;
                    // Esperar un poco antes de la transición
                    nameFormedTimeout = setTimeout(transitionToMainContent, 2000);
                }
            }

            function drawMatrix() {
                mainCtx.fillStyle = 'rgba(13, 17, 23, 0.05)';
                mainCtx.fillRect(0, 0, mainCanvas.width, mainCanvas.height);
                mainCtx.font = `${fontSize}px monospace`;

                for (let i = 0; i < drops.length; i++) {
                    const x = i * fontSize;
                    const y = drops[i] * fontSize;

                    let text = characters.charAt(Math.floor(Math.random() * characters.length));
                    let textColor = '#0f0';

                    // Si el nombre ya está formado, haz que el color del texto sea más sólido
                    // y detén el movimiento de las gotas dentro de la forma del nombre.
                    if (nameFormed && textData) {
                        const pixelX = Math.floor(x);
                        const pixelY = Math.floor(y);
                        // Asegura que las coordenadas no superen los límites
                        if (pixelX >= 0 && pixelX < textCanvas.width && pixelY >= 0 && pixelY < textCanvas.height) {
                            const index = (pixelY * textCanvas.width + pixelX) * 4;
                            // Comprueba si el píxel del lienzo de texto es blanco (o cerca del blanco)
                            if (textData.data[index] > 0) {
                                textColor = '#4299e1'; // Color azul para el nombre
                                drops[i] = y / fontSize; // Fija la gota en su lugar
                            }
                        }
                    }

                    mainCtx.fillStyle = textColor;
                    mainCtx.fillText(text, x, y);

                    // Reinicia la gota si llega al final, a menos que ya sea parte del nombre
                    if (y > mainCanvas.height && Math.random() > 0.975) {
                        if (!nameFormed || !textData || textData.data[((Math.floor(y) * textCanvas.width) + Math.floor(x)) * 4] === 0) {
                             drops[i] = 0;
                        }
                    }
                    
                    // Incrementa la posición Y de la gota
                    drops[i]++;
                }
            }

            function animateIntro() {
                drawMatrix();
                // Si el nombre aún no se ha formado por completo, dibújalo en el canvas secundario
                if (!nameFormed) {
                    drawName();
                }
                requestAnimationFrame(animateIntro);
            }

            function transitionToMainContent() {
                introScreen.style.opacity = '0';
                introScreen.style.visibility = 'hidden';
                mainContent.classList.add('visible');
                setTimeout(startMainTypingEffect, 1000);
            }

            window.addEventListener('resize', () => {
                setupCanvases();
                if (!nameFormed) {
                    drawName(); // Vuelve a dibujar el nombre si se redimensiona
                }
            });

            // Lógica del efecto de escritura en la sección Hero
            function startMainTypingEffect() {
                const typingElement = document.getElementById('typing-effect');
                const phrases = ["Desarrollador Web", "Programador de Aplicaciones Digitales", "Especialista en WordPress", "Biotecnólogo"];
                let phraseIndex = 0;
                let letterIndex = 0;
                let isDeleting = false;
                let delay = 100;

                function type() {
                    const currentPhrase = phrases[phraseIndex];
                    if (isDeleting) {
                        typingElement.textContent = currentPhrase.substring(0, letterIndex - 1);
                        letterIndex--;
                    } else {
                        typingElement.textContent = currentPhrase.substring(0, letterIndex + 1);
                        letterIndex++;
                    }

                    if (!isDeleting && letterIndex === currentPhrase.length) {
                        delay = 2000;
                        isDeleting = true;
                    } else if (isDeleting && letterIndex === 0) {
                        isDeleting = false;
                        phraseIndex = (phraseIndex + 1) % phrases.length;
                        delay = 500;
                    } else {
                        delay = isDeleting ? 50 : 100;
                    }
                    setTimeout(type, delay);
                }
                type();
            }

            // --- ESTE ES EL ORDEN DE LLAMADA CORREGIDO ---
            // 1. Primero, se configuran los canvases para darles ancho y alto.
            setupCanvases();
            // 2. Luego, se inicia la animación principal.
            animateIntro();
            // Esto asegura que drawName() se llame solo después de que el canvas tenga dimensiones válidas.
            
            // ... (resto del código de APIs y formularios sin cambios)
            // Lógica para mostrar mensajes de éxito/error
            function showMessage(text, type = 'success', duration = 3000) {
                const messageBox = document.getElementById('messageBox');
                const messageText = document.getElementById('messageText');
                messageText.textContent = text;
                messageBox.className = 'message-box p-4 rounded-xl shadow-lg';
                if (type === 'error') {
                    messageBox.classList.add('bg-red-500', 'text-white');
                } else {
                    messageBox.classList.add('bg-emerald-500', 'text-white');
                }
                messageBox.style.display = 'block';
                setTimeout(() => {
                    messageBox.style.display = 'none';
                }, duration);
            }

            // Lógica del formulario de contacto
            const contactForm = document.getElementById('contact-form');
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                showMessage("¡Gracias por tu mensaje! Me pondré en contacto contigo pronto.");
                contactForm.reset();
            });

            // Gemini API: Analizador de Proyectos
            const analyzeProjectBtn = document.getElementById('analyze-project-btn');
            const mensajeTextarea = document.getElementById('mensaje');
            const apiResponseModal = document.getElementById('apiResponseModal');
            const apiResponseContent = document.getElementById('apiResponseContent');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const analyzeButtonText = analyzeProjectBtn.innerHTML;

            function showResponseModal(content) {
                apiResponseContent.innerHTML = content;
                apiResponseModal.style.display = 'block';
            }

            closeModalBtn.addEventListener('click', () => {
                apiResponseModal.style.display = 'none';
            });
            window.addEventListener('click', (e) => {
                if (e.target === apiResponseModal) {
                    apiResponseModal.style.display = 'none';
                }
            });

            analyzeProjectBtn.addEventListener('click', async () => {
                const prompt = mensajeTextarea.value.trim();
                if (!prompt) {
                    showMessage("Por favor, describe tu proyecto primero.", 'error');
                    return;
                }
                analyzeProjectBtn.innerHTML = '<i class="fas fa-sync fa-spin mr-2"></i> Analizando...';
                analyzeProjectBtn.disabled = true;

                const llmPrompt = `Actúa como un consultor de desarrollo web experimentado. El usuario te ha descrito una idea de proyecto. Analiza la descripción, resume los puntos clave, sugiere una posible pila de tecnologías (ej. React, Node.js, MongoDB) y ofrece un plan de acción de alto nivel. Aquí está la descripción del proyecto: "${prompt}"`;
                let retryCount = 0;
                const maxRetries = 3;
                let backoffTime = 1000;

                async function callGeminiApi() {
                    try {
                        const chatHistory = [{ role: "user", parts: [{ text: llmPrompt }] }];
                        const payload = { contents: chatHistory };
                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            if (response.status === 429 && retryCount < maxRetries) {
                                await new Promise(resolve => setTimeout(resolve, backoffTime));
                                backoffTime *= 2;
                                retryCount++;
                                return callGeminiApi();
                            } else {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                        }

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                            const text = result.candidates[0].content.parts[0].text;
                            const formattedText = text.replace(/^### (.*)$/gm, '<h3>$1</h3>')
                                                      .replace(/^## (.*)$/gm, '<h2>$1</h2>')
                                                      .replace(/^# (.*)$/gm, '<h1>$1</h1>')
                                                      .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                            showResponseModal(formattedText);
                        } else {
                            throw new Error("No se pudo obtener la respuesta de la API.");
                        }
                    } catch (error) {
                        console.error("Error al llamar a la API de Gemini:", error);
                        showMessage("Error al analizar el proyecto. Por favor, inténtalo de nuevo.", 'error');
                    } finally {
                        analyzeProjectBtn.innerHTML = analyzeButtonText;
                        analyzeProjectBtn.disabled = false;
                    }
                }
                callGeminiApi();
            });

            // Gemini API: Lector de Texto a Voz (TTS)
            const readAloudBtn = document.getElementById('read-aloud-btn');
            const filosofiaText = document.getElementById('filosofia-text');
            const audioPlayer = document.getElementById('audio-player');
            let isPlaying = false;
            let audioUrl = null;

            function base64ToArrayBuffer(base64) {
                const binaryString = window.atob(base64);
                const len = binaryString.length;
                const bytes = new Uint8Array(len);
                for (let i = 0; i < len; i++) {
                    bytes[i] = binaryString.charCodeAt(i);
                }
                return bytes.buffer;
            }

            function pcmToWav(pcm16, sampleRate) {
                const buffer = new ArrayBuffer(44 + pcm16.byteLength);
                const view = new DataView(buffer);
                writeString(view, 0, 'RIFF');
                view.setUint32(4, 36 + pcm16.byteLength, true);
                writeString(view, 8, 'WAVE');
                writeString(view, 12, 'fmt ');
                view.setUint32(16, 16, true);
                view.setUint16(20, 1, true);
                view.setUint16(22, 1, true);
                view.setUint32(24, sampleRate, true);
                view.setUint32(28, sampleRate * 2, true);
                view.setUint16(32, 2, true);
                view.setUint16(34, 16, true);
                writeString(view, 36, 'data');
                view.setUint32(40, pcm16.byteLength, true);
                for (let i = 0; i < pcm16.length; i++) {
                    view.setInt16(44 + i * 2, pcm16[i], true);
                }
                return new Blob([view], { type: 'audio/wav' });

                function writeString(view, offset, string) {
                    for (let i = 0; i < string.length; i++) {
                        view.setUint8(offset + i, string.charCodeAt(i));
                    }
                }
            }

            readAloudBtn.addEventListener('click', async () => {
                if (isPlaying) {
                    audioPlayer.pause();
                    isPlaying = false;
                    readAloudBtn.innerHTML = '<i class="fas fa-volume-up mr-2"></i>✨ Leer en voz alta ✨';
                    return;
                }

                if (audioUrl) {
                    audioPlayer.play();
                    isPlaying = true;
                    readAloudBtn.innerHTML = '<i class="fas fa-pause mr-2"></i> Detener';
                    return;
                }

                readAloudBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Cargando...';
                readAloudBtn.disabled = true;

                const textToSpeak = filosofiaText.innerText.replace(/\s+/g, ' ').trim();
                const prompt = `Say in a confident and professional tone: ${textToSpeak}`;
                let retryCount = 0;
                const maxRetries = 3;
                let backoffTime = 1000;

                async function callTtsApi() {
                    try {
                        const payload = {
                            contents: [{ parts: [{ text: prompt }] }],
                            generationConfig: {
                                responseModalities: ["AUDIO"],
                                speechConfig: {
                                    voiceConfig: { prebuiltVoiceConfig: { voiceName: "Rasalgethi" } }
                                }
                            }
                        };
                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                             if (response.status === 429 && retryCount < maxRetries) {
                                await new Promise(resolve => setTimeout(resolve, backoffTime));
                                backoffTime *= 2;
                                retryCount++;
                                return callTtsApi();
                            } else {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                        }

                        const result = await response.json();
                        const audioPart = result?.candidates?.[0]?.content?.parts?.[0];
                        if (audioPart && audioPart.inlineData) {
                            const pcmData = base64ToArrayBuffer(audioPart.inlineData.data);
                            const pcm16 = new Int16Array(pcmData);
                            const sampleRate = 24000;
                            const wavBlob = pcmToWav(pcm16, sampleRate);
                            
                            audioUrl = URL.createObjectURL(wavBlob);
                            audioPlayer.src = audioUrl;
                            audioPlayer.style.display = 'block';
                            audioPlayer.play();
                            isPlaying = true;
                            readAloudBtn.innerHTML = '<i class="fas fa-pause mr-2"></i> Detener';
                            audioPlayer.onended = () => {
                                isPlaying = false;
                                readAloudBtn.innerHTML = '<i class="fas fa-volume-up mr-2"></i>✨ Leer en voz alta ✨';
                            };
                        } else {
                            throw new Error("No se pudo obtener el audio de la API.");
                        }
                    } catch (error) {
                        console.error("Error al llamar a la API de TTS:", error);
                        showMessage("Error al generar el audio. Por favor, inténtalo de nuevo.", 'error');
                    } finally {
                        readAloudBtn.disabled = false;
                    }
                }
                callTtsApi();
            });

            // Gemini API: Generador de Imágenes
            const generateImageBtn = document.getElementById('generate-image-btn');
            const imagePromptInput = document.getElementById('image-prompt');
            const generatedImage = document.getElementById('generated-image');
            const imageLoader = document.getElementById('image-loader');
            const imagePlaceholder = document.getElementById('image-placeholder');
            const generateButtonText = generateImageBtn.innerHTML;

            generateImageBtn.addEventListener('click', async () => {
                const prompt = imagePromptInput.value.trim();
                if (!prompt) {
                    showMessage("Por favor, ingresa una descripción para generar la imagen.", 'error');
                    return;
                }
                imagePlaceholder.style.display = 'none';
                generatedImage.style.display = 'none';
                imageLoader.style.display = 'block';
                generateImageBtn.innerHTML = '<i class="fas fa-sync fa-spin mr-2"></i> Generando...';
                generateImageBtn.disabled = true;

                let retryCount = 0;
                const maxRetries = 3;
                let backoffTime = 1000;

                async function callImageApi() {
                    try {
                        const payload = { instances: { prompt: prompt }, parameters: { "sampleCount": 1 } };
                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=${apiKey}`;

                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            if (response.status === 429 && retryCount < maxRetries) {
                                await new Promise(resolve => setTimeout(resolve, backoffTime));
                                backoffTime *= 2;
                                retryCount++;
                                return callImageApi();
                            } else {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                        }

                        const result = await response.json();
                        if (result.predictions && result.predictions.length > 0 && result.predictions[0].bytesBase64Encoded) {
                            const imageUrl = `data:image/png;base64,${result.predictions[0].bytesBase64Encoded}`;
                            generatedImage.src = imageUrl;
                            generatedImage.style.display = 'block';
                            imageLoader.style.display = 'none';
                        } else {
                            throw new Error("No se pudo generar la imagen.");
                        }
                    } catch (error) {
                        console.error("Error al llamar a la API de Imagen:", error);
                        imageLoader.style.display = 'none';
                        imagePlaceholder.style.display = 'block';
                        imagePlaceholder.textContent = 'Error al generar la imagen. Inténtalo de nuevo.';
                        showMessage("Error al generar la imagen. Inténtalo de nuevo.", 'error');
                    } finally {
                        generateImageBtn.innerHTML = generateButtonText;
                        generateImageBtn.disabled = false;
                    }
                }
                callImageApi();
            });

            // Gemini API: Generador de Descripciones para E-commerce
            const generateDescriptionBtn = document.getElementById('generate-description-btn');
            const productNameInput = document.getElementById('product-name');
            const productFeaturesTextarea = document.getElementById('product-features');
            const descriptionResult = document.getElementById('description-result');
            const descriptionLoader = document.getElementById('description-loader');
            const generateDescriptionButtonText = generateDescriptionBtn.innerHTML;

            generateDescriptionBtn.addEventListener('click', async () => {
                const productName = productNameInput.value.trim();
                const productFeatures = productFeaturesTextarea.value.trim();
                if (!productName || !productFeatures) {
                    showMessage("Por favor, ingresa el nombre del producto y sus características.", 'error');
                    return;
                }
                descriptionResult.textContent = '';
                descriptionLoader.style.display = 'block';
                generateDescriptionBtn.innerHTML = '<i class="fas fa-sync fa-spin mr-2"></i> Generando...';
                generateDescriptionBtn.disabled = true;

                const llmPrompt = `Actúa como un experto en marketing para e-commerce. Crea una descripción de producto atractiva y persuasiva para el siguiente artículo. Incluye el nombre del producto y las características clave. Usa un tono que incite a la compra.
                
                Nombre del producto: ${productName}
                Características: ${productFeatures}`;

                let retryCount = 0;
                const maxRetries = 3;
                let backoffTime = 1000;

                async function callDescriptionApi() {
                    try {
                        const chatHistory = [{ role: "user", parts: [{ text: llmPrompt }] }];
                        const payload = { contents: chatHistory };
                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            if (response.status === 429 && retryCount < maxRetries) {
                                await new Promise(resolve => setTimeout(resolve, backoffTime));
                                backoffTime *= 2;
                                retryCount++;
                                return callDescriptionApi();
                            } else {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                        }

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                            const text = result.candidates[0].content.parts[0].text;
                            descriptionResult.textContent = text;
                        } else {
                            throw new Error("No se pudo obtener la descripción de la API.");
                        }
                    } catch (error) {
                        console.error("Error al llamar a la API de Gemini:", error);
                        descriptionResult.textContent = "Error al generar la descripción. Inténtalo de nuevo.";
                        showMessage("Error al generar la descripción. Por favor, inténtalo de nuevo.", 'error');
                    } finally {
                        descriptionLoader.style.display = 'none';
                        generateDescriptionBtn.innerHTML = generateDescriptionButtonText;
                        generateDescriptionBtn.disabled = false;
                    }
                }
                callDescriptionApi();
            });
        };
    </script>
</body>
</html>
